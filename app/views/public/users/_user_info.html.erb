<div class="card">
  <div class="card-body">
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <!-- md以下: 縦並び / lg以上: 横並び -->
        <div class="d-flex flex-column flex-lg-row align-items-start gap-3">
          <!-- 画像 -->
          <div style="mx-2">
            <%= image_tag user.get_profile_image(150,150), class: "img-fluid rounded" %>
          </div>

          <!-- ボタン -->
          <div class="flex-grow-1">
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <% if user == current_user %>
                <%= link_to edit_user_path(user.id), class: "btn btn-outline-secondary" do %>
                  <i class="fa-solid fa-gear me-1"></i>
                  <span class="small">プロフィール編集</span>
                <% end %>
              <% elsif current_user.following?(user) %>
                <%= link_to user_relationships_path(user.id), method: :delete, class: "btn btn-secondary" do %>
                  フォロー中
                <% end %>
              <% else %>
                <%= link_to user_relationships_path(user.id), method: :post, class: "btn btn-outline-secondary" do %>
                  フォローする
                <% end %>
              <% end %>
            </div>
            <!-- 名前 -->
            <h5 class="mt-3 mt-lg-2"><%= user.name %></h5>
          </div>
        </div>
      </li>

      <!-- フォロワー情報 -->
      <li class="list-group-item">
        <div>
          <%= link_to user_followers_path(user) do %>
            <%= user.followers.count %>
          <% end %>
          <span class="ms-1">followers /</span>

          <%= link_to user_followings_path(user) do %>
            <%= user.followings.count %>
          <% end %>
          <span class="ms-1">follow</span>
        </div>

        <div class="mt-2"><%= user.introduction %></div>
      </li>
    </ul>
  </div>
</div>